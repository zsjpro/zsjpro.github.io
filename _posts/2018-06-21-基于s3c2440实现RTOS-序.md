---
title: 基于s3c2440实现RTOS
description: 基于s3c2440实现RTOS-序
categories:
 - RTOS
tags: RTOS
---
>&emsp;其实很久以前就发现了supper loop并不是万能的，而是很尴尬的一种方式，怎么说呢，在你编写代码的时候你总会发现简单的程序没有任何问题，但是如果随着你的代码功能的增加你会发现越来越力不从心，在写代码之前的设计连你都没有办法来说服你自己，那么就会是一件很尴尬的事情了！
>
>&emsp;然后准备使用RTOS，但是网上查了一下发现有很多大佬都自己在编写RTOS，我瞬间血液直充脑门决定也自己写一个RTOS试一试。首先说明，我学习电子出身，没有任何操作系统的相关知识，但是对于单片机比较精通，所以肯定会无法避免有一些错误，还望各位大佬指出发到我的邮箱(sj9198@outlook.com)，小弟这厢有礼了！！！纠结来纠结去芯片使用的是s3c2440，因为手里有一款开发板，如果使用stm32还得自己绘制PCB或者再去买一块，干脆直接就用了！

&emsp;目前对于RTOS还是很迷茫的，我只是感觉用死循环的方式对于项目的设计存在很大的弊端，但是具体的如何操作和相关的概念还是处于迷茫的状态，所以就查了很多资料，**死循环的方式我们称之为前后台程序，前台程序就是我们的中断所执行的程序，而后台程序就是我们在死循环中所执行的函数，这也是最早期在没有操作系统这个概念的时候程序员所使用的编程方式。**

&emsp;eg：在实际中我们的程序在主函数中调用了很多的子函数，每一个子函数都完成一个任务，那么我们简单的分析一下遇到问题！

	int main(void)
	{
		for(;;)
		{
			revTheCtrlFunc();//接收控制命令
		
			transmitTheVoltage();//发送电压信息
		}
		return 0;
	}

&emsp;程序执行的时候显然是按着我们的调用顺序执行的，因为在一些紧急的情况下我们需要将代码放在中断函数里面执行，但是我们都知道在实际情况中要尽可能的减少中断函数的执行时间，同时如果我们修改任意函数中的代码那么将导致另外一个函数的执行时间将会不确定，毕竟我们只有一个MCU，这就是比较纠结的问题！！！那么我们如果让每一个任务都有一个MCU来执行，那么是不是就可以相互不会影响而且执行的时间也确定了，在硬件层面我们没有办法达到，那么我们就通过软件来"虚拟"多个MCU来单独负责固定的任务，这样就解决了我们前面遇到的问题，但是无论如何"虚拟"，无限制的细分下去仍然是一个MCU在执行而已，只不过是一个MCU不断的在执行多个程序，或者反向来看就是对于任务来说在执行任务期间MCU都值单纯的在执行自己。
&emsp;但是什么时候执行什么任务呢？所以我们又定义了任务的优先级，先执行优先级高的任务(或者称为线程)，但是什么时候执行？什么时候停止？什么时候切换？这些就需要实时内核来管理让任务之间有条不紊的执行。

未完待续......

### 如果发现错误之处请联系email:sj9198@outlook.com
### QQ群:150963666